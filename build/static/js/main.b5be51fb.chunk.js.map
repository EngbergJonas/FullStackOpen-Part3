{"version":3,"sources":["components/Contacts.js","components/Filter.js","components/ContactForm.js","services/contacts.js","components/Notification.js","components/Footer.js","App.js","index.js"],"names":["Contacts","_ref","result","toggleDelete","map","contact","react_default","a","createElement","className","key","id","name","number","onClick","Filter","filter","eventHandler","value","onChange","ContactForm","props","onSubmit","add","nameHandler","numberHandler","type","baseUrl","contacts","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","style","marginRight","marginBottom","padding","fontSize","border","borderRadius","Footer","color","fontStyle","paddingBottom","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","setNewFilter","_useState9","_useState10","setMessage","filterResult","person","toLowerCase","includes","useEffect","contactService","initialContacts","modifyContact","find","window","confirm","components_Notification","components_Filter","event","target","components_ContactForm","preventDefault","contactObject","returnedContact","setTimeout","components_Contacts","console","log","newContacts","catch","error","components_Footer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b5be51fb.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Contacts = ({ result, toggleDelete }) =>\n  result.map(contact => (\n    <li className='note' key={contact.id}>\n      {contact.name} - {contact.number}\n      <button onClick={() => toggleDelete(contact.id)}>Delete</button>\n    </li>\n  ));\nexport default Contacts;\n","import React from 'react'\n\nconst Filter = ({filter, eventHandler}) => (\n    <div>\n    Rajaa näytettäviä: \n    <input \n    value={filter}\n    onChange={eventHandler}\n    />\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst ContactForm = (props) => (\n    <form onSubmit={props.add}>\n    <h3>Lisää uusi</h3>\n    <div>\n      Nimi: \n      <input \n      value={props.name}\n      onChange={props.nameHandler}\n      />\n    </div>\n    <div>\n      Numero: \n      <input \n      value={props.number}\n      onChange={props.numberHandler}\n      />\n    </div>\n    <div>\n    <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n  )\n\nexport default ContactForm","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id.id}`);\n  return request.then(response => response.data);\n};\n\nconst modify = (id, number) => {\n  const request = axios.put(`${baseUrl}/${id.id}`, {\n    name: id.name,\n    number: number,\n    id: id.id\n  });\n  return request.then(response => response.data);\n};\nexport default { getAll, create, remove, modify };\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n      marginRight: 10,\n      marginBottom: 10,\n      padding: 10,\n      fontSize: 16,\n      border: \"5px solid green\",\n      borderRadius: 10\n    };\n    if (message === null) {\n      return null;\n    }\n    return <div style={notificationStyle}>{message}</div>;\n  };\n\nexport default Notification","import React from 'react'\n\nconst Footer = () => {\n    const footerStyle = {\n      color: \"green\",\n      fontStyle: \"italic\",\n      fontSize: 16,\n      paddingBottom: 10\n    };\n    return (\n      <div style={footerStyle}>\n        <br />\n        <em>Phonebook app, Jonas Engberg 2019</em>\n      </div>\n    );\n  };\n\nexport default Footer","import React, { useState, useEffect } from \"react\";\nimport Contacts from \"./components/Contacts\";\nimport Filter from \"./components/Filter\";\nimport ContactForm from \"./components/ContactForm\";\nimport contactService from \"./services/contacts\";\nimport Notification from \"./components/Notification\";\nimport Footer from \"./components/Footer\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [setFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  const filterResult = persons.filter(person =>\n    person.name.toLowerCase().includes(setFilter.toLowerCase())\n  );\n\n  //GET data\n  useEffect(() => {\n    contactService.getAll().then(initialContacts => {\n      setPersons(initialContacts);\n    });\n  }, []);\n\n  //POST data\n  const addContact = event => {\n    event.preventDefault();\n    const contactObject = {\n      name: newName,\n      number: newNumber\n    };\n    if (\n      persons\n        .map(person => person.name.toLowerCase() === newName.toLowerCase())\n        .includes(true)\n    ) {\n      //PUT data\n      modifyContact(newName, newNumber);\n    } else {\n      contactService\n        .create(contactObject)\n        .then(returnedContact => {\n          setPersons(persons.concat(returnedContact));\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .then(\n          setMessage(`${newName} lisätty luetteloon`),\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000)\n        );\n    }\n  };\n\n  //PUT data\n  const modifyContact = (name, newNumber) => {\n    const contact = persons.find(contact => contact.name === name);\n    if (\n      window.confirm(\n        `${name} on jo olemassa, haluatko korvata numeron uudella?`\n      )\n    ) {\n      contactService.modify(contact, newNumber).then(() => {\n        contactService.getAll().then(initialContacts => {\n          setPersons(initialContacts);\n        });\n      });\n    }\n  };\n\n  //DELETE data\n  const toggleDeleteOf = id => {\n    const contact = persons.find(contact => contact.id === id);\n    console.log(contact);\n    if (window.confirm(`Would you like to remove ${contact.name}`)) {\n      contactService\n        .remove(contact)\n        .then(() => {\n          setMessage(`${contact.name} on poistettu.`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .then(() => {\n          contactService.getAll().then(newContacts => {\n            setPersons(newContacts);\n          });\n        })\n        .catch(error => {\n          setMessage(`${contact.name} on jo poistettu.`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .then(\n          contactService.getAll().then(newContacts => {\n            setPersons(newContacts);\n          })\n        );\n    }\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = event => {\n    setNewFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification message={message} />\n      <Filter filter={setFilter} eventHandler={handleFilter} />\n      <ContactForm\n        add={addContact}\n        name={newName}\n        nameHandler={handleNameChange}\n        number={newNumber}\n        numberHandler={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Contacts result={filterResult} toggleDelete={toggleDeleteOf} />\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}